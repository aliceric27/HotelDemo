<!-- 照明系統小card組件 -->
<template>
  <div>
    <div
      class="max-w-[126px] max-h-[119px] w-[11.7rem] h-[8.1rem] rounded-[1.17038rem] bg-no-repeat cursor-pointer"
      :class="bgcolor"
      @click="sendEmit"
    >
      <div
        class="flex justify-between flex-col rounded-[1rem] p-2 gap-1 h-full"
      >
        <div class="flex">
          <p class="gold">{{ lightPage }}</p>
          <div>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="23"
              height="19"
              viewBox="0 0 23 19"
              fill="none"
            >
              <path
                d="M19.1687 18.4971C19.9854 18.4971 20.8012 18.5051 21.6179 18.4947C22.4809 18.4834 22.9911 18.0039 22.9999 17.2185C23.0094 16.3611 22.5161 15.8607 21.6187 15.8519C20.5138 15.8407 19.4082 15.8399 18.3033 15.8543C18.0087 15.8583 17.9033 15.7807 17.9089 15.47C17.9264 14.3724 17.9169 13.274 17.9153 12.1756C17.9137 11.2445 17.4219 10.7482 16.499 10.7458C15.3941 10.7434 14.2884 10.7378 13.1835 10.7506C12.9129 10.7538 12.8187 10.6737 12.8219 10.3951C12.8347 9.3071 12.8267 8.2183 12.8275 7.1303C12.8275 6.86851 12.8083 6.60832 12.699 6.36814C12.4778 5.88138 12.0882 5.64841 11.5597 5.64681C10.3846 5.64441 9.21023 5.6388 8.03508 5.65081C7.77004 5.65401 7.69499 5.57075 7.69739 5.30896C7.71016 4.17052 7.70378 3.03289 7.70218 1.89445C7.70058 1.03222 7.25431 0.527044 6.3985 0.515836C4.70603 0.492618 3.01356 0.497422 1.32109 0.514234C0.606583 0.52144 0.134766 0.921734 0.0277882 1.53018C-0.0895672 2.19787 0.169893 2.76869 0.709568 3.01688C0.958647 3.13136 1.22609 3.15538 1.49672 3.15538C2.5617 3.15538 3.62748 3.15538 4.69246 3.15538C5.09402 3.15538 5.09562 3.15698 5.09562 3.54767C5.09562 4.64607 5.09402 5.74448 5.09641 6.84209C5.09881 7.75476 5.59378 8.25433 6.49829 8.25753C7.60318 8.26073 8.70888 8.26634 9.81377 8.25273C10.0972 8.24952 10.1954 8.33118 10.1914 8.6234C10.177 9.69138 10.1842 10.7602 10.1874 11.8282C10.1874 11.9867 10.2002 12.1476 10.2265 12.3045C10.3343 12.9586 10.7798 13.3509 11.4392 13.3549C12.6143 13.3621 13.7887 13.3661 14.9638 13.3517C15.2432 13.3485 15.3191 13.4365 15.3159 13.7095C15.3023 14.8376 15.3087 15.9656 15.3111 17.0944C15.3127 17.9967 15.7821 18.481 16.6906 18.4939C17.5169 18.5059 18.3432 18.4963 19.1695 18.4963L19.1687 18.4971Z"
                fill="#C2A344"
              />
            </svg>
          </div>
        </div>
        <div>
          <p class="whitespace-normal title title-wrap">{{ props.title }}</p>
          <p class="whitespace-normal title title-wrap">{{ props.title2 }}</p>
        </div>
        <div class="flex items-center justify-around">
          <div v-if="isOn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="28"
              height="34"
              viewBox="0 0 28 34"
              fill="none"
            >
              <path
                d="M7.9173 32.75V32V27.1969C7.86713 25.236 6.94334 23.3715 5.34863 22.0605L5.34015 22.0536L5.33187 22.0464C5.01524 21.7701 4.71393 21.479 4.4286 21.1741L4.4284 21.1739C-0.240515 16.1815 0.300626 8.5752 5.61438 4.21019L7.9173 32.75ZM7.9173 32.75H8.6673M7.9173 32.75H8.6673M8.6673 32.75H19.3338H20.0838M8.6673 32.75H20.0838M20.0838 32.75V32M20.0838 32.75V32M20.0838 32V27.3949V27.3857M20.0838 32V27.3857M20.0838 27.3857L20.0836 27.3765M20.0838 27.3857L20.0836 27.3765M20.0836 27.3765C20.0363 25.4578 20.8698 23.6002 22.3937 22.2793C27.6997 17.9128 28.2381 10.312 23.5721 5.32192L23.5721 5.32188M20.0836 27.3765L23.5721 5.32188M23.5721 5.32188C18.929 0.357236 10.8995 -0.132319 5.61446 4.21013L23.5721 5.32188ZM5.49032 12.2057L5.50882 12.078C6.18629 7.80081 10.4315 4.73529 15.1327 5.31953L15.1328 5.31954C19.8722 5.90799 23.121 9.9615 22.5085 14.2919C22.2384 16.201 21.2365 17.964 19.6745 19.2474L19.6745 19.2473L19.6684 19.2524C18.2237 20.4652 17.1446 22.0175 16.5432 23.7522H16.0833V16.0323C17.6762 15.296 18.7418 13.756 18.7501 12.0081L18.7537 11.2545H18.0001H15.3333H14.5833V12.0045C14.5833 12.2354 14.3687 12.504 14.0002 12.504C13.6318 12.504 13.4172 12.2354 13.4172 12.0045V11.2545H12.6672H10.0004H9.24711L9.25038 12.0078C9.25798 13.7559 10.3242 15.2965 11.9172 16.0324V23.7516H11.4363C10.7589 21.9624 9.6226 20.359 8.13045 19.0833C6.09653 17.3179 5.12173 14.751 5.49032 12.2057ZM15.9176 28.7509H12.0841V27.7513H15.9176V28.7509Z"
                stroke="#50D35E"
                stroke-width="1.5"
              />
            </svg>
          </div>
          <div v-if="!isOn">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="28"
              height="34"
              viewBox="0 0 28 34"
              fill="none"
            >
              <path
                d="M5.67793 4.2874C0.408056 8.6163 -0.127454 16.156 4.50144 21.1056L4.50161 21.1058C4.78465 21.4082 5.08353 21.697 5.39761 21.971L5.40478 21.9773L5.41214 21.9833C7.02861 23.3121 7.96672 25.204 8.0173 27.1956V32V32.65H8.6673H19.3338H19.9838V32V27.3949V27.3869L19.9836 27.3789C19.9355 25.4288 20.783 23.5426 22.3291 22.203C27.5922 17.8727 28.1254 10.3378 23.4991 5.39022L23.499 5.39018C18.8925 0.46456 10.9228 -0.0220885 5.67793 4.2874ZM5.67793 4.2874L6.09052 4.78967L5.67793 4.2874ZM9.35038 12.0073C9.35788 13.7347 10.4246 15.2581 12.0172 15.968V23.8516H11.3671C10.6987 22.0525 9.56304 20.4395 8.06523 19.1591C6.00649 17.3724 5.01766 14.7719 5.39135 12.1914L5.40996 12.0629C6.09634 7.72687 10.3957 4.63007 15.145 5.2203L15.1451 5.22031C19.9339 5.81488 23.2287 9.91429 22.6076 14.3059C22.3338 16.2408 21.3186 18.026 19.738 19.3246L19.738 19.3246L19.7327 19.329C18.2827 20.5461 17.2052 22.108 16.6147 23.8522H15.9833V15.9679C17.5758 15.2576 18.6419 13.7348 18.6501 12.0076L18.6532 11.3545H18.0001H15.3333H14.6833V12.0045C14.6833 12.2966 14.4177 12.604 14.0002 12.604C13.5827 12.604 13.3172 12.2966 13.3172 12.0045V11.3545H12.6672H10.0004H9.34755L9.35038 12.0073ZM16.0176 28.8509H11.9841V27.6513H16.0176V28.8509Z"
                fill="white"
                stroke="#CFCFCF"
                stroke-width="1.3"
              />
            </svg>
          </div>
          <p v-if="isOn" class="on">ON</p>
          <p v-if="!isOn" class="off">OFF</p>
        </div>
      </div>
    </div>
  </div>
</template>
<script lang="ts" setup>
import useDeviceStore from "~/store/DeviceStore";
import useSocketStore from "~/store/socketStore";
const SocketStore = useSocketStore();
const DeviceStore = useDeviceStore();
const lightPage = computed(() => DeviceStore.lightPage);
const sendDocmd = SocketStore.sendDocmd;
const props = defineProps({
  isOn: {
    type: Boolean,
    default: false,
  },
  title: {
    type: String,
  },
  title2: {
    type: String,
  },
  rdata: {} as any,
});
const bgcolor = computed(() => {
  if (props.isOn) return "bg-[#90FF9C]";
  else return "bg-[#E2E2E2]";
});
const sendEmit = () => {
  console.log(props.rdata);
  const senddata = {
    doIdx: props.rdata?.doIdx,
    relIdx: props.rdata?.relIdx.toString(),
  };
  sendDocmd(senddata);
};
</script>
<style lang="scss" scoped>
.title {
  color: #717171;
  font-family: Microsoft JhengHei UI;
  font-size: 20px;
  font-style: normal;
  font-weight: 700;
  line-height: 22px; /* 152.174% */
  letter-spacing: 1.38px;
}
.light {
  color: white;
}
.on {
  color: #50d35e;
  font-family: Microsoft JhengHei UI;
  font-size: 26px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
  letter-spacing: 3.9px;
  -webkit-text-stroke: 1px white;
}
.gold {
  color: #c2a344;
  font-family: Microsoft JhengHei UI;
  font-size: 20px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
  letter-spacing: 0.125rem;
}
.off {
  color: #b4b4b4;
  font-family: Microsoft JhengHei UI;
  font-size: 26px;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
  letter-spacing: 3.9px;
  -webkit-text-stroke: 1px white;
}
.title-wrap {
  word-wrap: break-word;
  white-space: normal;
}
</style>
